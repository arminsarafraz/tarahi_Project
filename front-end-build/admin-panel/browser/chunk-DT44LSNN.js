import{a as U,b as c,c as V,d as k,g as B,i as H,j,k as A,l as z,m as J}from"./chunk-HX4NRXA6.js";import{Aa as C,Hb as I,Ia as s,Jb as R,L as f,M as v,Na as u,Qb as T,Rb as q,Xa as y,Z as n,Za as S,_ as g,ab as w,ca as h,cb as E,cc as D,db as x,ec as N,fc as G,gc as M,ha as d,hc as P,ic as L,ka as o,lb as F,sa as r,ta as t,ua as l,za as b}from"./chunk-IUEAAI5U.js";import"./chunk-4CLCTAJ7.js";var _=e=>({"is-invalid":e});function K(e,m){e&1&&(r(0,"div"),s(1,"Username is required."),t())}function O(e,m){e&1&&(r(0,"div"),s(1," Username must be at least 3 characters. "),t())}function Q(e,m){if(e&1&&(r(0,"div",19),d(1,K,2,0,"div",20)(2,O,2,0,"div",20),t()),e&2){let a=C();n(),o("ngIf",a.f.username.errors.required),n(),o("ngIf",a.f.username.errors.minlength)}}function W(e,m){e&1&&(r(0,"div"),s(1,"Email is required."),t())}function X(e,m){e&1&&(r(0,"div"),s(1,"Enter a valid email address."),t())}function Y(e,m){if(e&1&&(r(0,"div",19),d(1,W,2,0,"div",20)(2,X,2,0,"div",20),t()),e&2){let a=C();n(),o("ngIf",a.f.email.errors.required),n(),o("ngIf",a.f.email.errors.email)}}function Z(e,m){e&1&&(r(0,"div"),s(1,"Password is required."),t())}function $(e,m){e&1&&(r(0,"div"),s(1," Password must be at least 6 characters. "),t())}function ee(e,m){if(e&1&&(r(0,"div",19),d(1,Z,2,0,"div",20)(2,$,2,0,"div",20),t()),e&2){let a=C();n(),o("ngIf",a.f.password.errors.required),n(),o("ngIf",a.f.password.errors.minlength)}}function te(e,m){e&1&&(r(0,"div",19),s(1," Repeat password is required. "),t())}var ve=(()=>{class e{constructor(a,p,i){this.fb=a,this.http=p,this.router=i,this.submitted=!1,this.apiUrl="https://localhost:7121/api/Auth/register",this.registerForm=this.fb.group({username:["",[c.required,c.minLength(3)]],email:["",[c.required,c.email]],password:["",[c.required,c.minLength(6)]],repeatPassword:["",[c.required]]})}onSubmit(){if(this.submitted=!0,this.registerForm.invalid)return;let a=this.registerForm.value;this.http.post(this.apiUrl,a).subscribe({next:p=>{this.registerForm.reset(),this.submitted=!1,this.router.navigateByUrl("/dashboard")},error:p=>{alert("An error occurred. Please try again.")}})}get f(){return this.registerForm.controls}static{this.\u0275fac=function(p){return new(p||e)(g(A),g(E),g(F))}}static{this.\u0275cmp=h({type:e,selectors:[["app-register"]],decls:34,vars:17,consts:[[1,"bg-light","dark:bg-transparent","min-vh-100","d-flex","flex-row","align-items-center"],[1,"justify-content-center"],["lg","7","md","9","xl","6"],[1,"mx-4"],[1,"p-4"],[3,"ngSubmit","formGroup"],[1,"text-body-secondary"],[1,"mb-3"],["cInputGroupText",""],["cIcon","","name","cilUser"],["autoComplete","name","cFormControl","","placeholder","Username","formControlName","username",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["autoComplete","email","cFormControl","","placeholder","Email","formControlName","email",3,"ngClass"],["cIcon","","name","cilLockLocked"],["autoComplete","new-password","cFormControl","","placeholder","Password","type","password","formControlName","password",3,"ngClass"],[1,"mb-4"],["autoComplete","new-password","cFormControl","","placeholder","Repeat password","type","password","formControlName","repeatPassword",3,"ngClass"],[1,"d-grid"],["cButton","","color","success","type","submit"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(p,i){p&1&&(r(0,"div",0)(1,"c-container")(2,"c-row",1)(3,"c-col",2)(4,"c-card",3)(5,"c-card-body",4)(6,"form",5),b("ngSubmit",function(){return i.onSubmit()}),r(7,"h1"),s(8,"Register"),t(),r(9,"p",6),s(10,"Create your account"),t(),r(11,"c-input-group",7)(12,"span",8),f(),l(13,"svg",9),t(),v(),l(14,"input",10),d(15,Q,3,2,"div",11),t(),r(16,"c-input-group",7)(17,"span",8),s(18,"@"),t(),l(19,"input",12),d(20,Y,3,2,"div",11),t(),r(21,"c-input-group",7)(22,"span",8),f(),l(23,"svg",13),t(),v(),l(24,"input",14),d(25,ee,3,2,"div",11),t(),r(26,"c-input-group",15)(27,"span",8),f(),l(28,"svg",13),t(),v(),l(29,"input",16),d(30,te,2,0,"div",11),t(),r(31,"div",17)(32,"button",18),s(33,"Create Account"),t()()()()()()()()()),p&2&&(n(6),o("formGroup",i.registerForm),n(8),o("ngClass",u(9,_,i.submitted&&i.f.username.errors)),n(),o("ngIf",i.submitted&&i.f.username.errors),n(4),o("ngClass",u(11,_,i.submitted&&i.f.email.errors)),n(),o("ngIf",i.submitted&&i.f.email.errors),n(4),o("ngClass",u(13,_,i.submitted&&i.f.password.errors)),n(),o("ngIf",i.submitted&&i.f.password.errors),n(4),o("ngClass",u(15,_,i.submitted&&i.f.repeatPassword.errors)),n(),o("ngIf",i.submitted&&i.f.repeatPassword.errors))},dependencies:[w,y,S,x,z,B,U,V,k,M,L,P,T,q,D,G,I,N,R,J,H,j],encapsulation:2})}}return e})();export{ve as RegisterComponent};
